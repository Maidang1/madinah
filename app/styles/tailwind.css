@import 'tailwindcss';
@custom-variant dark (&:is(.dark *));

@config '../../tailwind.config.ts';

/*
  ========================================
  Madinah Blog - Professional Design System
  Swiss Modernism 2.0 + High Accessibility
  ========================================
*/

:root {
  /*
    --- Palette (Foundation) ---
    Based on UI Pro Max recommendations
  */
  --palette-black: #111111;
  --palette-charcoal: #222222;
  --palette-zinc: #666666;
  --palette-gray-50: #f5f5f5; /* Warmer/Darker background for contrast with white cards */
  --palette-gray-100: #eaeaea;
  --palette-gray-200: #dcdcdc;
  --palette-gray-300: #bdbdbd;
  --palette-gray-400: #989898;
  --palette-gray-500: #757575;
  --palette-white: #ffffff;
  --palette-blue: #2563eb;
  --palette-blue-light: #3b82f6;

  /*
    --- Radius Tokens ---
  */
  --radius-sm: 4px;
  --radius-md: 6px;
  --radius-lg: 8px;
  --radius-xl: 12px;
  --radius-2xl: 16px;

  /*
    --- Shadow Tokens ---
    Subtle shadows for depth without distraction
  */
  --shadow-xs: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --shadow-sm:
    0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1);
  --shadow-md:
    0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
  --shadow-lg:
    0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);

  /*
    --- Text Tokens ---
    High contrast for readability (WCAG AAA)
  */
  --text-primary: var(--palette-black);
  --text-secondary: var(--palette-zinc);
  --text-muted: var(--palette-gray-500);
  --text-inverted: var(--palette-white);

  /*
    --- Icon Tokens ---
  */
  --icon-primary: var(--palette-black);
  --icon-secondary: var(--palette-gray-400);
  --icon-inverted: var(--palette-white);

  /*
    --- Surface Tokens ---
  */
  --surface-white: var(--palette-white);
  --surface-gray-50: var(--palette-gray-50);
  --surface-gray-100: var(--palette-gray-100);
  --surface-charcoal: var(--palette-charcoal);

  /*
    --- Border Tokens ---
    Visible in both modes
  */
  --border-default: var(--palette-gray-200);
  --border-strong: var(--palette-gray-300);

  /*
    --- Transition Tokens ---
  */
  --transition-fast: 150ms ease-out;
  --transition-base: 200ms ease-out;
  --transition-slow: 300ms ease-out;
}

/*
  --- Dark Mode Overrides ---
*/
.dark {
  --text-primary: var(--palette-white);
  --text-secondary: var(--palette-gray-300);
  --text-muted: var(--palette-gray-400);
  --text-inverted: var(--palette-black);

  --icon-primary: var(--palette-white);
  --icon-secondary: var(--palette-gray-500);
  --icon-inverted: var(--palette-black);

  --surface-white: var(--palette-charcoal);
  --surface-gray-50: #27272a;
  --surface-gray-100: #3f3f46;
  --surface-charcoal: var(--palette-white);

  --border-default: var(--palette-zinc);
  --border-strong: var(--palette-gray-400);

  --shadow-xs: 0 1px 2px 0 rgba(0, 0, 0, 0.3);
  --shadow-sm:
    0 1px 3px 0 rgba(0, 0, 0, 0.4), 0 1px 2px -1px rgba(0, 0, 0, 0.3);
  --shadow-md:
    0 4px 6px -1px rgba(0, 0, 0, 0.4), 0 2px 4px -2px rgba(0, 0, 0, 0.3);
  --shadow-lg:
    0 10px 15px -3px rgba(0, 0, 0, 0.4), 0 4px 6px -4px rgba(0, 0, 0, 0.3);
}

/*
  --- Tailwind Theme Mapping ---
*/
@theme inline {
  --radius-sm: var(--radius-sm);
  --radius-md: var(--radius-md);
  --radius-lg: var(--radius-lg);
  --radius-xl: var(--radius-xl);
  --radius-2xl: var(--radius-2xl);

  --color-text-primary: var(--text-primary);
  --color-text-secondary: var(--text-secondary);
  --color-text-muted: var(--text-muted);
  --color-text-inverted: var(--text-inverted);

  --color-icon-primary: var(--icon-primary);
  --color-icon-secondary: var(--icon-secondary);
  --color-icon-inverted: var(--icon-inverted);

  --color-surface-white: var(--surface-white);
  --color-surface-gray-50: var(--surface-gray-50);
  --color-surface-gray-100: var(--surface-gray-100);
  --color-surface-charcoal: var(--surface-charcoal);

  --color-border-default: var(--border-default);
  --color-border-strong: var(--border-strong);

  --shadow-xs: var(--shadow-xs);
  --shadow-sm: var(--shadow-sm);
  --shadow-md: var(--shadow-md);
  --shadow-lg: var(--shadow-lg);

  --transition-fast: var(--transition-fast);
  --transition-base: var(--transition-base);
  --transition-slow: var(--transition-slow);
}

/*
  --- Custom Utilities ---
*/
@utility shadow-xs {
  box-shadow: var(--shadow-xs);
}

@utility shadow-sm {
  box-shadow: var(--shadow-sm);
}

@utility shadow-md {
  box-shadow: var(--shadow-md);
}

@utility shadow-lg {
  box-shadow: var(--shadow-lg);
}

/*
  --- Base Styles ---
*/
@layer base {
  * {
    @apply border-border-default outline-none;
  }

  html {
    font-size: 16px;
  }

  body {
    @apply bg-surface-gray-50 text-text-primary font-sans text-base leading-relaxed antialiased;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-sans font-bold tracking-tight;
  }

  ::selection {
    @apply bg-text-primary/10 text-text-primary;
  }

  a:focus-visible,
  button:focus-visible {
    @apply ring-text-primary/20 ring-2 ring-offset-2 outline-none;
  }

  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }
}

/*
  --- Component Classes ---
*/
@layer components {
  .btn {
    @apply focus-visible:ring-text-primary/20 inline-flex cursor-pointer items-center justify-center rounded-md px-4 py-2 text-sm font-medium transition-all duration-200 focus-visible:ring-2 focus-visible:ring-offset-2;
  }

  .btn-primary {
    @apply bg-surface-charcoal text-text-inverted hover:bg-surface-charcoal/90 active:scale-[0.98] disabled:cursor-not-allowed disabled:opacity-50;
  }

  .btn-secondary {
    @apply bg-surface-white border-border-default text-text-primary hover:bg-surface-gray-50 hover:border-border-strong border active:scale-[0.98] disabled:cursor-not-allowed disabled:opacity-50;
  }

  .btn-ghost {
    @apply text-text-primary hover:bg-surface-gray-100 bg-transparent active:scale-[0.98] disabled:cursor-not-allowed disabled:opacity-50;
  }

  .card {
    @apply bg-surface-white border-border-default cursor-pointer rounded-lg border shadow-sm transition-all duration-200 hover:-translate-y-0.5 hover:shadow-md;
  }

  .input {
    @apply bg-surface-white border-border-default text-text-primary placeholder:text-text-muted focus:border-border-strong focus:ring-text-primary/10 h-10 w-full cursor-pointer rounded-md border px-3 transition-all duration-200 focus:ring-2 focus:outline-none;
  }

  .link {
    @apply text-text-primary decoration-text-muted underline decoration-1 underline-offset-4 transition-all duration-200 hover:underline;
  }

  .link-secondary {
    @apply text-text-secondary hover:text-text-primary decoration-text-muted underline decoration-1 underline-offset-4 transition-all duration-200 hover:underline;
  }
}
