---
title: Stream 与并发模式
order: 3
summary: 使用 Stream、Join 与 Select 组合多个异步任务，构建可扩展的流水线。
---

# Stream 基础

`Stream` 类似于异步迭代器，按需产出值。组合器如 `map`, `filter` 让你像处理同步迭代器一样优雅地处理异步数据流。

```rust
use futures::{StreamExt, stream};

let numbers = stream::iter(vec![1, 2, 3]);
let doubled: Vec<_> = numbers.map(|n| async move { n * 2 }).buffer_unordered(2).collect().await;
```

## 并发模式

- **Join**: 同时等待多个 Future 完成。
- **Select**: 竞速执行，先完成的任务先处理。
- **Timeout**: 为关键操作设置超时，避免无限等待。

通过组合这些模式，可以构建稳定的爬虫、数据处理流水线或实时服务。
