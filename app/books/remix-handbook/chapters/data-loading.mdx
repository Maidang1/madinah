---
title: 数据加载与变更
order: 2
summary: 掌握 Loader 与 Action 的协作方式，打造顺畅的数据流。
---

# Loader 模式

Loader 在服务端运行，可以访问数据库、API 或 KV。合理地返回缓存头、利用 `defer` 让页面渐进渲染，是高性能应用的关键。

```tsx
export async function loader({ request }: LoaderFunctionArgs) {
  const user = await getUser(request);
  return defer({ user, posts: getPostsAsync() });
}
```

## Action 模式

Action 负责处理突变请求，执行完成后可以重定向或返回表单错误。使用 `useFetcher` 能够在不离开页面的情况下复用 Loader。
