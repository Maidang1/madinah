import{j as s}from"./index-BZchTVqk.js";import{u as c}from"./index-CFAftGZl.js";const a={title:"异步编程简介",order:1,summary:"了解同步与异步的差异，并熟悉 Rust async/await 的基本语法。"};function n(l){const e={a:"a",code:"code",div:"div",h1:"h1",h2:"h2",p:"p",pre:"pre",span:"span",...c(),...l.components};return s.jsxs(s.Fragment,{children:[s.jsxs(e.h1,{id:"为什么需要异步",children:["为什么需要异步？",s.jsx(e.a,{className:"header-anchor",href:"#为什么需要异步",children:s.jsx(e.span,{className:"icon icon-link"})})]}),`
`,s.jsx(e.p,{children:"在网络或 I/O 密集型的应用中，等待外部资源的时间往往远超过 CPU 执行计算的时间。传统的同步模型会让线程在等待时阻塞，造成资源浪费。"}),`
`,s.jsx(e.p,{children:"异步模型让任务在等待时让出执行权，其他任务得以继续推进。Rust 的所有权系统确保即便在这种高并发场景下也能安全地共享数据。"}),`
`,s.jsxs(e.h2,{id:"asyncawait-的基本语法",children:["async/await 的基本语法",s.jsx(e.a,{className:"header-anchor",href:"#asyncawait-的基本语法",children:s.jsx(e.span,{className:"icon icon-link"})})]}),`
`,s.jsxs(e.pre,{className:"shiki dark-plus",style:{backgroundColor:"#1E1E1E",color:"#D4D4D4"},children:[s.jsx(e.div,{className:"language-id",children:"rust"}),s.jsx(e.div,{className:"code-container",children:s.jsxs(e.code,{children:[s.jsxs(e.div,{className:"line",children:[s.jsx(e.span,{style:{color:"#569CD6"},children:"async"}),s.jsx(e.span,{style:{color:"#D4D4D4"},children:" "}),s.jsx(e.span,{style:{color:"#569CD6"},children:"fn"}),s.jsx(e.span,{style:{color:"#D4D4D4"},children:" "}),s.jsx(e.span,{style:{color:"#DCDCAA"},children:"fetch_user"}),s.jsx(e.span,{style:{color:"#D4D4D4"},children:"() -> "}),s.jsx(e.span,{style:{color:"#4EC9B0"},children:"Result"}),s.jsx(e.span,{style:{color:"#D4D4D4"},children:"<"}),s.jsx(e.span,{style:{color:"#4EC9B0"},children:"User"}),s.jsx(e.span,{style:{color:"#D4D4D4"},children:", "}),s.jsx(e.span,{style:{color:"#4EC9B0"},children:"Error"}),s.jsx(e.span,{style:{color:"#D4D4D4"},children:"> {"})]}),s.jsxs(e.div,{className:"line",children:[s.jsx(e.span,{style:{color:"#D4D4D4"},children:"    "}),s.jsx(e.span,{style:{color:"#569CD6"},children:"let"}),s.jsx(e.span,{style:{color:"#D4D4D4"},children:" "}),s.jsx(e.span,{style:{color:"#9CDCFE"},children:"response"}),s.jsx(e.span,{style:{color:"#D4D4D4"},children:" = "}),s.jsx(e.span,{style:{color:"#4EC9B0"},children:"http_client"}),s.jsx(e.span,{style:{color:"#D4D4D4"},children:"::"}),s.jsx(e.span,{style:{color:"#DCDCAA"},children:"get"}),s.jsx(e.span,{style:{color:"#D4D4D4"},children:"("}),s.jsx(e.span,{style:{color:"#CE9178"},children:'"https://example.com/user"'}),s.jsx(e.span,{style:{color:"#D4D4D4"},children:")."}),s.jsx(e.span,{style:{color:"#C586C0"},children:"await"}),s.jsx(e.span,{style:{color:"#D4D4D4"},children:"?;"})]}),s.jsxs(e.div,{className:"line",children:[s.jsx(e.span,{style:{color:"#D4D4D4"},children:"    "}),s.jsx(e.span,{style:{color:"#DCDCAA"},children:"parse_response"}),s.jsx(e.span,{style:{color:"#D4D4D4"},children:"("}),s.jsx(e.span,{style:{color:"#9CDCFE"},children:"response"}),s.jsx(e.span,{style:{color:"#D4D4D4"},children:")"})]}),s.jsx(e.div,{className:"line",children:s.jsx(e.span,{style:{color:"#D4D4D4"},children:"}"})})]})})]}),`
`,s.jsxs(e.p,{children:[s.jsx(e.code,{children:"async"})," 关键字让函数返回一个实现 ",s.jsx(e.code,{children:"Future"})," 的类型，而 ",s.jsx(e.code,{children:"await"})," 则在任务可以安全继续执行时恢复控制权。理解 ",s.jsx(e.code,{children:"Future"})," 的状态机实现对于后续章节至关重要。"]})]})}function i(l={}){const{wrapper:e}={...c(),...l.components};return e?s.jsx(e,{...l,children:s.jsx(n,{...l})}):n(l)}export{i as default,a as matter};
