import{j as s}from"./index-BZchTVqk.js";import{u as r}from"./index-CFAftGZl.js";const i={title:"Stream 与并发模式",order:3,summary:"使用 Stream、Join 与 Select 组合多个异步任务，构建可扩展的流水线。"};function n(e){const l={a:"a",code:"code",div:"div",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",span:"span",strong:"strong",ul:"ul",...r(),...e.components};return s.jsxs(s.Fragment,{children:[s.jsxs(l.h1,{id:"stream-基础",children:["Stream 基础",s.jsx(l.a,{className:"header-anchor",href:"#stream-基础",children:s.jsx(l.span,{className:"icon icon-link"})})]}),`
`,s.jsxs(l.p,{children:[s.jsx(l.code,{children:"Stream"})," 类似于异步迭代器，按需产出值。组合器如 ",s.jsx(l.code,{children:"map"}),", ",s.jsx(l.code,{children:"filter"})," 让你像处理同步迭代器一样优雅地处理异步数据流。"]}),`
`,s.jsxs(l.pre,{className:"shiki dark-plus",style:{backgroundColor:"#1E1E1E",color:"#D4D4D4"},children:[s.jsx(l.div,{className:"language-id",children:"rust"}),s.jsx(l.div,{className:"code-container",children:s.jsxs(l.code,{children:[s.jsxs(l.div,{className:"line",children:[s.jsx(l.span,{style:{color:"#569CD6"},children:"use"}),s.jsx(l.span,{style:{color:"#D4D4D4"},children:" "}),s.jsx(l.span,{style:{color:"#4EC9B0"},children:"futures"}),s.jsx(l.span,{style:{color:"#D4D4D4"},children:"::{"}),s.jsx(l.span,{style:{color:"#4EC9B0"},children:"StreamExt"}),s.jsx(l.span,{style:{color:"#D4D4D4"},children:", stream};"})]}),s.jsx(l.div,{className:"line"}),s.jsxs(l.div,{className:"line",children:[s.jsx(l.span,{style:{color:"#569CD6"},children:"let"}),s.jsx(l.span,{style:{color:"#D4D4D4"},children:" "}),s.jsx(l.span,{style:{color:"#9CDCFE"},children:"numbers"}),s.jsx(l.span,{style:{color:"#D4D4D4"},children:" = "}),s.jsx(l.span,{style:{color:"#4EC9B0"},children:"stream"}),s.jsx(l.span,{style:{color:"#D4D4D4"},children:"::"}),s.jsx(l.span,{style:{color:"#DCDCAA"},children:"iter"}),s.jsx(l.span,{style:{color:"#D4D4D4"},children:"("}),s.jsx(l.span,{style:{color:"#DCDCAA"},children:"vec!"}),s.jsx(l.span,{style:{color:"#D4D4D4"},children:"["}),s.jsx(l.span,{style:{color:"#B5CEA8"},children:"1"}),s.jsx(l.span,{style:{color:"#D4D4D4"},children:", "}),s.jsx(l.span,{style:{color:"#B5CEA8"},children:"2"}),s.jsx(l.span,{style:{color:"#D4D4D4"},children:", "}),s.jsx(l.span,{style:{color:"#B5CEA8"},children:"3"}),s.jsx(l.span,{style:{color:"#D4D4D4"},children:"]);"})]}),s.jsxs(l.div,{className:"line",children:[s.jsx(l.span,{style:{color:"#569CD6"},children:"let"}),s.jsx(l.span,{style:{color:"#D4D4D4"},children:" "}),s.jsx(l.span,{style:{color:"#9CDCFE"},children:"doubled"}),s.jsx(l.span,{style:{color:"#D4D4D4"},children:": "}),s.jsx(l.span,{style:{color:"#4EC9B0"},children:"Vec"}),s.jsx(l.span,{style:{color:"#D4D4D4"},children:"<"}),s.jsx(l.span,{style:{color:"#9CDCFE"},children:"_"}),s.jsx(l.span,{style:{color:"#D4D4D4"},children:"> = "}),s.jsx(l.span,{style:{color:"#9CDCFE"},children:"numbers"}),s.jsx(l.span,{style:{color:"#D4D4D4"},children:"."}),s.jsx(l.span,{style:{color:"#DCDCAA"},children:"map"}),s.jsx(l.span,{style:{color:"#D4D4D4"},children:"(|"}),s.jsx(l.span,{style:{color:"#9CDCFE"},children:"n"}),s.jsx(l.span,{style:{color:"#D4D4D4"},children:"| "}),s.jsx(l.span,{style:{color:"#569CD6"},children:"async"}),s.jsx(l.span,{style:{color:"#D4D4D4"},children:" "}),s.jsx(l.span,{style:{color:"#569CD6"},children:"move"}),s.jsx(l.span,{style:{color:"#D4D4D4"},children:" { "}),s.jsx(l.span,{style:{color:"#9CDCFE"},children:"n"}),s.jsx(l.span,{style:{color:"#D4D4D4"},children:" * "}),s.jsx(l.span,{style:{color:"#B5CEA8"},children:"2"}),s.jsx(l.span,{style:{color:"#D4D4D4"},children:" })."}),s.jsx(l.span,{style:{color:"#DCDCAA"},children:"buffer_unordered"}),s.jsx(l.span,{style:{color:"#D4D4D4"},children:"("}),s.jsx(l.span,{style:{color:"#B5CEA8"},children:"2"}),s.jsx(l.span,{style:{color:"#D4D4D4"},children:")."}),s.jsx(l.span,{style:{color:"#DCDCAA"},children:"collect"}),s.jsx(l.span,{style:{color:"#D4D4D4"},children:"()."}),s.jsx(l.span,{style:{color:"#C586C0"},children:"await"}),s.jsx(l.span,{style:{color:"#D4D4D4"},children:";"})]})]})})]}),`
`,s.jsxs(l.h2,{id:"并发模式",children:["并发模式",s.jsx(l.a,{className:"header-anchor",href:"#并发模式",children:s.jsx(l.span,{className:"icon icon-link"})})]}),`
`,s.jsxs(l.ul,{children:[`
`,s.jsxs(l.li,{children:[s.jsx(l.strong,{children:"Join"}),": 同时等待多个 Future 完成。"]}),`
`,s.jsxs(l.li,{children:[s.jsx(l.strong,{children:"Select"}),": 竞速执行，先完成的任务先处理。"]}),`
`,s.jsxs(l.li,{children:[s.jsx(l.strong,{children:"Timeout"}),": 为关键操作设置超时，避免无限等待。"]}),`
`]}),`
`,s.jsx(l.p,{children:"通过组合这些模式，可以构建稳定的爬虫、数据处理流水线或实时服务。"})]})}function a(e={}){const{wrapper:l}={...r(),...e.components};return l?s.jsx(l,{...e,children:s.jsx(n,{...e})}):n(e)}export{a as default,i as matter};
