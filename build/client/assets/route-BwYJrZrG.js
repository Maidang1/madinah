const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/book-kxE4WWTd.js","assets/index-BZchTVqk.js","assets/index-CFAftGZl.js","assets/introduction-rRII9gfZ.js","assets/futures-lFuQpavo.js","assets/streams--XlGcTod.js"])))=>i.map(i=>d[i]);
import{j as a,r as f}from"./index-BZchTVqk.js";import{M as w,L as _}from"./license-notice-wyIg2vAp.js";import{m as j}from"./proxy-4eBiWsw0.js";import{E as x}from"./error-state-g2K3_dPm.js";import{u as b}from"./i18n-provider-Cit72E0b.js";import{a as R,b as C,u as L,i as I,L as g}from"./components-raYoEFov.js";function P({book:t,chapter:e,children:r}){return a.jsxs(j.article,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"border-border/60 bg-background/80 dark:bg-background/60 min-w-0 rounded-2xl border p-8 shadow-sm backdrop-blur",children:[a.jsxs("header",{className:"mb-10 space-y-4",children:[a.jsx("p",{className:"text-gray-700 text-xs font-semibold uppercase tracking-wide",children:t.title}),a.jsx("h1",{className:"text-balance text-foreground text-3xl font-bold tracking-tight sm:text-4xl",children:e.title}),e.summary?a.jsx("div",{className:"border-gray-700/50 text-muted-foreground relative overflow-hidden rounded-xl border p-5 text-sm leading-relaxed",children:e.summary}):null]}),a.jsx(w,{className:"mt-8 px-0 sm:px-0 lg:px-0",children:r}),a.jsx(_,{})]})}const N="modulepreload",O=function(t){return"/"+t},y={},p=function(e,r,o){let i=Promise.resolve();if(r&&r.length>0){let d=function(s){return Promise.all(s.map(u=>Promise.resolve(u).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),h=(n==null?void 0:n.nonce)||(n==null?void 0:n.getAttribute("nonce"));i=d(r.map(s=>{if(s=O(s),s in y)return;y[s]=!0;const u=s.endsWith(".css"),m=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${m}`))return;const l=document.createElement("link");if(l.rel=u?"stylesheet":N,u||(l.as="script"),l.crossOrigin="",l.href=s,h&&l.setAttribute("nonce",h),document.head.appendChild(l),u)return new Promise((E,k)=>{l.addEventListener("load",E),l.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${s}`)))})}))}function c(d){const n=new Event("vite:preloadError",{cancelable:!0});if(n.payload=d,window.dispatchEvent(n),!n.defaultPrevented)throw d}return i.then(d=>{for(const n of d||[])n.status==="rejected"&&c(n.reason);return e().catch(c)})},S=[{id:"rust-async-guide",title:"Rust Async Guide",description:"逐步掌握 Rust 异步生态的核心概念与最佳实践。",author:"Madinah",coverImage:null,tags:["rust","async","concurrency"],defaultChapterId:"introduction",directoryName:"rust-async-guide",loadOverview:async()=>{const t=await p(()=>import("./book-kxE4WWTd.js"),__vite__mapDeps([0,1,2]));return{module:t.default,frontmatter:t.frontmatter??t.attributes??t.metadata??null}},timestamp:17598367140098665e-4,chapters:[{id:"introduction",title:"异步编程简介",order:1,summary:"了解同步与异步的差异，并熟悉 Rust async/await 的基本语法。",load:async()=>{const t=await p(()=>import("./introduction-rRII9gfZ.js"),__vite__mapDeps([3,1,2]));return{module:t.default,frontmatter:t.frontmatter??t.attributes??t.metadata??null}}},{id:"futures",title:"Future 与执行器",order:2,summary:"深入理解 Future trait、Pin 与执行器如何协作驱动任务前进。",load:async()=>{const t=await p(()=>import("./futures-lFuQpavo.js"),__vite__mapDeps([4,1,2]));return{module:t.default,frontmatter:t.frontmatter??t.attributes??t.metadata??null}}},{id:"streams",title:"Stream 与并发模式",order:3,summary:"使用 Stream、Join 与 Select 组合多个异步任务，构建可扩展的流水线。",load:async()=>{const t=await p(()=>import("./streams--XlGcTod.js"),__vite__mapDeps([5,1,2]));return{module:t.default,frontmatter:t.frontmatter??t.attributes??t.metadata??null}}}]}],v=S.map(t=>{const e=[...t.chapters].sort((o,i)=>o.order===i.order?o.title.localeCompare(i.title,"en"):o.order-i.order),r=Object.fromEntries(e.map(o=>[o.id,o]));return{...t,chapters:e,chapterMap:r}}),B=Object.fromEntries(v.map(t=>[t.id,t]));v.map(t=>({id:t.id,title:t.title,description:t.description,author:t.author,coverImage:t.coverImage,tags:t.tags,defaultChapterId:t.defaultChapterId,hasOverview:!!t.loadOverview,chapterCount:t.chapters.length,timestamp:t.timestamp,chapters:t.chapters.map(e=>({id:e.id,title:e.title,order:e.order,summary:e.summary}))}));function T(t){return B[t]??null}async function $(t,e){const r=T(t);if(!r)return null;const o=r.chapterMap[e];return o?o.load():null}const A=(t,e)=>f.lazy(async()=>{const r=await $(t,e);if(!(r!=null&&r.module))throw new Error("Failed to load chapter content");return{default:r.module}}),q=({data:t,params:e,matches:r})=>{var c;if(!t)return[];const o=(c=r==null?void 0:r.find(d=>d.id.endsWith("books_.$bookId/route")))==null?void 0:c.data,i=(o==null?void 0:o.book.title)??e.bookId??"Books";return[{title:`${t.chapter.title} • ${i} • Madinah`},{name:"description",content:t.chapter.summary??`Read the chapter ${t.chapter.title} from ${i}`}]};function z(){const{chapter:t}=R(),{book:e}=C(),{t:r}=b(),o=f.useMemo(()=>A(e.id,t.id),[e.id,t.id]);return a.jsx(f.Suspense,{fallback:a.jsx("div",{className:"border-border/60 bg-background/40 text-muted-foreground rounded-2xl border p-8 text-sm",children:r("books.chapter.loading")}),children:a.jsx(P,{book:e,chapter:t,children:a.jsx(o,{})})},t.id)}function G(){var r;const t=L(),{t:e}=b();return I(t)?a.jsx(x,{title:t.status===404?e("books.errors.chapterNotFound"):e("books.errors.chapterLoadFailed"),message:typeof t.data=="string"?t.data:((r=t.data)==null?void 0:r.error)??t.statusText,action:a.jsx(g,{to:"/books",className:"bg-gray-700 hover:bg-gray-900 inline-flex items-center rounded-full px-4 py-2 text-sm font-semibold text-white transition",children:e("books.errors.goToBooks")})}):a.jsx(x,{title:e("books.errors.chapterRenderFailed"),message:t instanceof Error?t.message:e("books.errors.chapterRenderMessage"),action:a.jsx(g,{to:"/books",className:"bg-gray-700 hover:bg-gray-900 inline-flex items-center rounded-full px-4 py-2 text-sm font-semibold text-white transition",children:e("books.errors.goToBooks")})})}export{G as ErrorBoundary,z as default,q as meta};
