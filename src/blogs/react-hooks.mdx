---
title: 深入理解 React Hooks
description: 学习 React Hooks 的最佳实践和高级用法
pubDate: 2024-01-25
---

# 深入理解 React Hooks

React Hooks 彻底改变了我们编写 React 组件的方式。

## useState 基础

```jsx
import { useState } from 'react';

function Counter() {
  const [count, setCount] = useState(0);
  return (
    <button onClick={() => setCount(count + 1)}>
      Count: {count}
    </button>
  );
}
```

## useEffect 用法

```jsx
import { useEffect } from 'react';

useEffect(() => {
  console.log('组件挂载完成');
}, []);
```

## 自定义 Hook

```jsx
function useLocalStorage(key, initialValue) {
  const [value, setValue] = useState(() => {
    const stored = localStorage.getItem(key);
    return stored ? JSON.parse(stored) : initialValue;
  });

  useEffect(() => {
    localStorage.setItem(key, JSON.stringify(value));
  }, [key, value]);

  return [value, setValue];
}
```

## 最佳实践

1. 只在顶层调用 Hooks
2. 只在 React 函数中调用 Hooks
3. 使用 ESLint 插件强制规则
